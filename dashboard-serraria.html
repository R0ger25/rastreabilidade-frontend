<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Serraria - Rastreabilidade de Madeira</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üè≠ Painel da Serraria</h1>
                <div class="user-info">
                    <span id="userName">Carregando...</span>
                    <button onclick="logout()" class="btn-logout">Sair</button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('lotes-disponiveis')">
                üì¶ Lotes de Tora Dispon√≠veis
            </button>
            <button class="tab-btn" onclick="showTab('registrar-processamento')">
                ‚ûï Registrar Processamento
            </button>
            <button class="tab-btn" onclick="showTab('meus-lotes')">
                üìã Meus Lotes Processados
            </button>
        </div>

        <!-- Tab: Lotes de Tora Dispon√≠veis -->
        <div id="lotes-disponiveis" class="tab-content active">
            <h2>Lotes de Tora Dispon√≠veis para Processamento</h2>
            <div class="info-box">
                <p>üí° <strong>Dica:</strong> Selecione um lote de tora para iniciar o processamento na serraria.</p>
            </div>
            
            <div id="lotesToraList" class="lotes-grid">
                <p class="loading">Carregando lotes de tora...</p>
            </div>
        </div>

        <!-- Tab: Registrar Processamento -->
        <div id="registrar-processamento" class="tab-content">
            <h2>Registrar Novo Lote Serrado</h2>
            
            <div class="info-box">
                <p>üìã Preencha as informa√ß√µes do processamento do lote de tora selecionado.</p>
            </div>

            <form id="formLoteSerrado" class="form-container">
                <!-- Sele√ß√£o do Lote de Tora -->
                <div class="form-section">
                    <h3>1. Lote de Tora de Origem</h3>
                    <div class="form-group">
                        <label for="loteToraOrigem">Selecione o Lote de Tora *</label>
                        <select id="loteToraOrigem" name="id_lote_tora_origem" required>
                            <option value="">-- Selecione um lote --</option>
                        </select>
                        <small id="infoLoteSelecionado" class="info-text"></small>
                    </div>
                </div>

                <!-- Dados de Recebimento e Processamento -->
                <div class="form-section">
                    <h3>2. Dados de Recebimento e Processamento</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="dataRecebimento">Data de Recebimento da Tora *</label>
                            <input type="datetime-local" id="dataRecebimento" name="data_recebimento_tora" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="volumeSaida">Volume de Sa√≠da (m¬≥) *</label>
                            <input type="number" id="volumeSaida" name="volume_saida_m3" step="0.01" min="0.01" required>
                            <small class="info-text">Volume de madeira serrada produzida</small>
                        </div>
                    </div>
                </div>

                <!-- Caracter√≠sticas do Produto -->
                <div class="form-section">
                    <h3>3. Caracter√≠sticas do Produto Serrado</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tipoProduto">Tipo de Produto</label>
                            <select id="tipoProduto" name="tipo_produto">
                                <option value="">-- Selecione --</option>
                                <option value="T√°bua">T√°bua</option>
                                <option value="T√°bua Aparelhada">T√°bua Aparelhada</option>
                                <option value="Vigota">Vigota</option>
                                <option value="Caibro">Caibro</option>
                                <option value="Ripa">Ripa</option>
                                <option value="Prancha">Prancha</option>
                                <option value="Sarrafo">Sarrafo</option>
                                <option value="Outros">Outros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="dimensoes">Dimens√µes</label>
                            <input type="text" id="dimensoes" name="dimensoes" placeholder="Ex: 2,5cm x 15cm x 3m">
                            <small class="info-text">Espessura x Largura x Comprimento</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="dadosTratamento">Dados de Tratamento (Opcional)</label>
                        <textarea id="dadosTratamento" name="dados_tratamento" rows="4" 
                                  placeholder="Descreva os tratamentos aplicados (secagem, imuniza√ß√£o, etc.)"></textarea>
                    </div>
                </div>

                <!-- Bot√µes -->
                <div class="form-actions">
                    <button type="button" onclick="showTab('lotes-disponiveis')" class="btn-secondary">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-primary">
                        ‚úÖ Registrar Lote Serrado
                    </button>
                </div>
            </form>

            <!-- Mensagens -->
            <div id="mensagemProcessamento" class="message" style="display: none;"></div>
        </div>

        <!-- Tab: Meus Lotes Processados -->
        <div id="meus-lotes" class="tab-content">
            <h2>Meus Lotes Serrados</h2>
            <div class="info-box">
                <p>üìä Hist√≥rico de todos os lotes que voc√™ processou na serraria.</p>
            </div>
            
            <div id="meusLotesSerradosList" class="lotes-list">
                <p class="loading">Carregando seus lotes processados...</p>
            </div>
        </div>
    </div>

    <script src="dashboard-serraria.js"></script>
</body>
</html>